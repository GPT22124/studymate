import pdfplumber
import openai

# Set your OpenAI API key
openai.api_key = "YOUR_API_KEY_HERE"

# Step 1: Extract text from PDF
def extract_text(pdf_path):
    text = ""
    with pdfplumber.open(pdf_path) as pdf:
        for page in pdf.pages:
            page_text = page.extract_text()
            if page_text:
                text += page_text + "\n"
    return text

# Step 2: Ask a question using AI
def ask_question(context, question):
    prompt = f"""
You are a helpful tutor. Use the context below to answer the question.

Context:
{context}

Question: {question}

Answer:"""

    response = openai.ChatCompletion.create(
        model="gpt-4",  # You can use "gpt-3.5-turbo" if needed
        messages=[{"role": "user", "content": prompt}],
        temperature=0.5
    )
    return response['choices'][0]['message']['content'].strip()

# Step 3: Main function
def main():
    pdf_path = input("Enter path to your PDF file: ")
    question = input("Ask your question: ")

    print("\nReading PDF...")
    context = extract_text(pdf_path)

    print("\nAsking the AI...")
    answer = ask_question(context, question)

    print("\nðŸ“˜ Answer:")
    print(answer)

if __name__ == "__main__":
    main()
